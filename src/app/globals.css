/* src/app/globals.css */
@import "tailwindcss";

/* Couleurs modernes et variables */
:root {
  /* Sombre (dark) - Base (#0f172a = 15, 23, 42) */
  --color-background: #0f172a; 
  --color-foreground: #f8fafc; 
  --color-primary: #6366f1; 
  --color-secondary: #22d3ee; 
  --color-accent: #facc15; 
  --color-muted: #94a3b8; 

  /* Définition des couleurs primaires/secondaires en HSL pour la fonction color-mix */
  --color-primary-h: 239; 
  --color-primary-s: 89%;
  --color-primary-l: 67%;
  --color-secondary-h: 187;
  --color-secondary-s: 89%;
  --color-secondary-l: 54%;
}

[data-theme="light"] {
  /* Clair (light) - Base (#f8fafc = 248, 250, 252) */
  --color-background: #f8fafc;
  --color-foreground: #1e293b;
  --color-primary: #6366f1;
  --color-secondary: #22d3ee;
  --color-accent: #f59e0b;
  --color-muted: #64748b;

  --color-primary-h: 239; 
  --color-primary-s: 89%;
  --color-primary-l: 67%;
  --color-secondary-h: 187;
  --color-secondary-s: 89%;
  --color-secondary-l: 54%;
}

body {
  /* background-color: var(--color-background); */
  color: var(--color-foreground);
  transition: background-color 0.4s, color 0.4s;
}

html {
  scroll-behavior: smooth;
}

/* Dégradé animé pour Hero (pour le titre) */
@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-gradient {
  animation: gradientBG 6s ease infinite;
  background-size: 200% 200%;
}

/* Glassmorphism pour cartes (Effet Apple "Givré") */
.card-glass {
  position: relative; 
  overflow: hidden; /* Empêche le pseudo-élément de déborder */
  /* Moins de couleur de fond (60% au lieu de 80%) pour plus de transparence */
  background: color-mix(in srgb, var(--color-background) 10%, transparent); 
  /* Flou augmenté (25px au lieu de 15px) pour l'effet givré ("frosted") */
  backdrop-filter: blur(25px); 
  /* Bordure plus fine et moins opaque pour un look plus "Apple" */
  border: 1px solid color-mix(in srgb, var(--color-foreground) 5%, transparent); 
  border-radius: 1.5rem; /* Un peu plus d'arrondi */
  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s; /* Temps de transition réduit */
}

.card-glass:hover {
  transform: translateY(-4px); /* Mouvement réduit (-4px au lieu de -8px) pour être plus subtil */
  /* Ombre simplifiée : retrait de l'ombre foncée (rgba) et conservation d'un léger "glow" */
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1), 0 0 15px var(--color-primary); 
  /* Le contour s'illumine légèrement */
  border-color: var(--color-primary);
}

/* --- Nouvelles règles pour l'effet de lumière animée --- */

/* Définition de l'animation de déplacement aléatoire pour un effet "plasma" */
@keyframes movingParticles {
  0% { 
    /* Point de départ très dispersé (8 positions) */
    background-position: 0% 0%, 50% 100%, 100% 50%, 25% 25%, 75% 75%, 10% 90%, 90% 10%, 40% 60%; 
  }
  50% { 
    /* Mi-chemin : autre position aléatoire */
    background-position: 100% 100%, 0% 50%, 20% 40%, 80% 60%, 40% 10%, 60% 90%, 10% 20%, 90% 80%; 
  }
  100% { 
    /* Retour au point de départ */
    background-position: 0% 0%, 50% 100%, 100% 50%, 25% 25%, 75% 75%, 10% 90%, 90% 10%, 40% 60%; 
  }
}

/* Classe à appliquer à toutes les cartes pour l'effet de brillance */
.card-shine {
  z-index: 1; 
}

.card-shine::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1; 
  pointer-events: none;
  
  /* Définition du background avec 8 gradients pour un effet de particules plus riche */
  background: 
    /* 4 Grosses Particules (couleurs principales, opacité 0.2) */
    radial-gradient(circle at 10% 20%, 
      hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.2) 0%, 
      transparent 35%
    ),
    radial-gradient(circle at 80% 90%, 
      hsla(var(--color-secondary-h), var(--color-secondary-s), var(--color-secondary-l), 0.2) 0%, 
      transparent 35%
    ),
    radial-gradient(circle at 50% 50%, 
      hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.2) 0%, 
      transparent 30%
    ),
    radial-gradient(circle at 20% 70%, 
      hsla(var(--color-secondary-h), var(--color-secondary-s), var(--color-secondary-l), 0.2) 0%, 
      transparent 40%
    ),
    /* 4 Petites Particules (Mix de couleurs, opacité 0.1) */
    radial-gradient(circle at 90% 10%, 
      hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.1) 0%, 
      transparent 20%
    ),
    radial-gradient(circle at 10% 90%, 
      hsla(var(--color-secondary-h), var(--color-secondary-s), var(--color-secondary-l), 0.1) 0%, 
      transparent 15%
    ),
    radial-gradient(circle at 60% 40%, 
      hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.1) 0%, 
      transparent 25%
    ),
    radial-gradient(circle at 40% 10%, 
      hsla(var(--color-secondary-h), var(--color-secondary-s), var(--color-secondary-l), 0.1) 0%, 
      transparent 30%
    );

  /* Tailles plus grandes pour un mouvement subtil et une zone d'effet plus large */
  background-size: 250% 250%, 200% 200%, 180% 180%, 150% 150%, 300% 300%, 280% 280%, 220% 220%, 170% 170%;
  
  /* Utilisation des variables pour la désynchronisation */
  animation: movingParticles var(--shine-duration, 15s) linear var(--shine-delay, 0s) infinite alternate;
  
  opacity: 0.5;
  filter: saturate(1.5) blur(10px); /* Ajout d'un blur pour un effet de "lumière douce" */
}

/* Au survol, on accélère */
.card-shine:hover::before {
  opacity: 0.8;
  animation-duration: 10s; 
  animation-direction: normal; 
}


/* --- Désynchronisation des animations --- */
/* Ces sélecteurs garantissent que les animations commencent à des moments différents
   et ont des durées différentes pour un rendu non synchronisé */

.card-shine:nth-child(2) {
  --shine-duration: 12s;
  --shine-delay: 2s;
}

.card-shine:nth-child(3) {
  --shine-duration: 17s;
  --shine-delay: 5s;
}

.card-shine:nth-child(4) {
  --shine-duration: 11s;
  --shine-delay: 1s;
}

.card-shine:nth-child(5) {
  --shine-duration: 16s;
  --shine-delay: 4s;
}

.card-shine:nth-child(6) {
  --shine-duration: 13s;
  --shine-delay: 3s;
}

.card-shine:nth-child(7) {
  --shine-duration: 18s;
  --shine-delay: 6s;
}

.card-shine:nth-child(8) {
  --shine-duration: 14s;
  --shine-delay: 7s;
}

.card-shine:nth-child(9) {
  --shine-duration: 19s;
  --shine-delay: 8s;
}